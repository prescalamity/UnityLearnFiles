



    public T GetTableLugiyan<T>(string keyy, LuaTable luaTable ,LuaState luaStatee)
    {
        int top = luaStatee.LuaGetTop();

        try
        {
            luaStatee.Push(luaTable);
            luaStatee.Push(keyy);
            luaStatee.LuaGetTable(top + 1);
            T ret = luaStatee.CheckValue<T>(top + 2);
            luaStatee.LuaSetTop(top);
            return ret;
        }
        catch (Exception e)
        {
            luaStatee.LuaSetTop(top);
            throw e;
        }
    }



    public void SetLanguage()
    {
        LuaInterface.LuaArrayTable plvName = LuaScriptMgr.Instance.lua.GetTable("plvName").ToArrayTable();
        
        string languType = "";
        if (XDevice.Instance.getLocalLanguage() == "zh-CN")
            languType = "zh";
        else
            languType = "en";

        LuaInterface.LuaTable langValTable= GetTableLugiyan<LuaInterface.LuaTable>(languType, 
                                                                                                                                            LuaScriptMgr.Instance.lua.GetTable("LoadingModule"), 
                                                                                                                                            LuaScriptMgr.Instance.lua);

        for (int i = 1; i <= plvName.Length; i++)
        {
            LuaScriptMgr.Instance.lua[plvName[i].ToString()] = langValTable[plvName[i].ToString()];
        }
    }












